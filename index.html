<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Empire Craft</title>

    <!-- <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase.js"></script> -->

    <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-firestore.js"></script>

    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-database.js"></script>

    <script src="building.js"></script>
    <script src="screenmanager.js"></script>
    <script src="itemmanager.js"></script>
    <script src="resourcemanager.js"></script>
    <script src="cityscreen.js"></script>
    <script src="mapscreen.js"></script>
    <script src="researchscreen.js"></script>
    <script src="trooptrainingscreen.js"></script>
    <script src="marchscreen.js"></script>
    <script src="marchmanager.js"></script>
    <script src="march.js"></script>
    <script src="tavernscreen.js"></script>
    <script src="general.js"></script>
    
    <script src="researchmanager.js"></script>
    <script src="troopmanager.js"></script>
    <script src="buildinghandler.js"></script>
    <script src="buffmanager.js"></script>
    <script src="loadjson.js"></script>
    <script src="city.js"></script>
    <script src="popupinfo.js"></script>
    <script src="resources.js"></script>
    <script src="player.js"></script>
    <script src="utils.js"></script>
    <script src="buildinginfoscreen.js"></script>
    <script src="button.js"></script>
    <script src="buildingdetailsscreen.js"></script>
    <script src="buildingupgradescreen.js"></script>
    <script src="itemscreen.js"></script>
    
    <script src="assets.js"></script>
    <script src="troops.js"></script>
    <script src="item.js"></script>
    <script src="research.js"></script>
    
    <script src="game.js"></script>

    <script>
        u = localStorage.getItem("username");
        if(u) {
            login = true;
        } else {
            login = false;
        }

        function checkLogin(username) {
            user = username.value;

            localStorage.setItem("username", user);
            console.log(user + " trying to login");
            if(!user) {
                return;
            }
            login = true;
            location.reload();
            
            return;
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    //document.getElementById("").innerHTML = this.responseText;
                    console.log(this.responseText);
                }
            };
            xhttp.open("GET", "checkLogin?username=username", true);
            xhttp.send();
        }
   
    </script>
    <style>
        * {
            padding: 0;
            margin: 0;
        }
        .toast {
            display: flex;
            align-items: center;
            justify-content: center;
                
            position: fixed;
            top: 90%;
            left: 50%;
            transform: translateX(-50%);

            width: 80%;
            height: 30px;
            visibility: hidden;
            opacity: 1;

            background-color: #b5b5b5;
            color: black;
            border: 1px solid black;
            border-radius: 35px;

            font-family: Arial, Helvetica, sans-serif;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            vertical-align: middle;

            z-index: 99999;

            transition: 5s;
        }
    </style>
</head>
<body>

    <script>
        if(!login) {
            document.writeln('<form>');
            document.writeln('<label>enter username</label><input style="font-size:30px" type="text" name="username">');
            // document.writeln('<label>enter password</label><input type="password" name="password">');
            document.writeln('<button onclick="checkLogin(this.form.username)" style="font-size:30px" type="button" name="login">Login</button>');
            document.writeln('</form>');
        }

    </script>

    <div id="maindiv" style="position:relative;width:800px;height:620px">
        <canvas id="canvas" width="800" height="800"></canvas>
        <!-- <input type="text" style="position:absolute;left:100px;top:300px;width:100px;" /> -->
    </div>

    <div id="buildingDiv" style="visibility: hidden; position:absolute; top:100px; left: 600px">
        select building
        <select onchange="buildingHandler.selectNewBuilding(this)" name="buildingSelect" id="buildingSelect">
            <option value="">Select Building</option>
            <option value="2">Farm</option>
            <option value="3">Sawmill</option>
            <option value="4">Quary</option>
            <option value="5">Mine</option>
        </select>
    </div>

    <!-- <div id="" style="position:absolute; top:20px; left: 120px">
        <button onclick="zoomScreen('in')">zoom in</button>
        <button onclick="zoomScreen('out')">zoom out</button>
    </div> -->

    <div id="" style="position:absolute; top:800px; left: 120px">
        <button onclick="fullScreen()" style="font-size:30px">full screen</button>
        <button onclick="logout()" style="font-size:30px">LogOut</button>
    </div>


    <div class="toast" id="toastdiv">
        <span id="toasttext">vdsvd</span>
    </div>


</body>
</html>